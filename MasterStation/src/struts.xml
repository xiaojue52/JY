<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>
 <package name="abstract_struts" abstract="true"
  extends="struts-default" namespace="/">
  <interceptors>
   <interceptor-stack name="myStack">
    <interceptor-ref name="defaultStack"></interceptor-ref>
    <interceptor-ref name="auth"></interceptor-ref>
   </interceptor-stack>
   <interceptor name="auth" class="com.station.interceptor.UserLoginInterceptor" />
  </interceptors>
  <default-interceptor-ref name="myStack" />
  <global-results>
   <result name="login">/index.jsp</result>
  </global-results>
 </package>
 <package name="Root" extends="abstract_struts" namespace="/">
  <action name="login" class="loginAction" method="login">
  </action>
  <action name="logout" class="logoutAction" method="logout">
   <result name="success" type="redirect">/index.jsp</result>
  </action>
  <action name="listUser" class="listUsersAction">
   <result name="success">/account/user_list.jsp</result>
  </action>
  <action name="updateUser" class="updateUserAction" method="updateUser">
   <result name="users" type="redirect">/listUser.action</result>
  </action>
  <action name="updatePassword" class="updateUserAction" method="updatePassword">
  </action>
  <action name="deleteUser" class="deleteUserAction">
   <result name="success" type="redirect">/listUser.action</result>
   <result name="error" type="redirect">/listUser.action?errorCode=-2</result>
  </action>
  <action name="showUser" class="showUserAction" method="showUserAction">
   <result name="json"></result>
  </action>
  <action name="addUser" class="addUserAction">
   <result name="success" type="redirect">/listUser.action</result>
   <result name="error" type="redirect">/listUser.action?errorCode=-1</result>
  </action>
  </package>

<package name="Main" extends="abstract_struts" namespace="/">
  <action name="mainAction" class="MainAction" method="getCurrentAction">
   <result name="success">/monitor/monitor.jsp</result>
  </action>
  <action name="getCabinetStatus" class="CabinetStatusAction" method="getCabinetStatusAction">
   <result name="success">/monitor/cabinet_status.jsp</result>
  </action>
</package>

<package name="Alarm" extends="abstract_struts" namespace="/">
<action name="listAlarm" class="AlarmAction" method="listAlarmAction">
   <result name="success">/datahandler/alarm/alarm.jsp</result>
  </action>
  <action name="listPageAlarm" class="AlarmPageAction" method="listAlarmAction">
   <result name="success">/monitor/monitor_alarm.jsp</result>
  </action>
  <action name="getUnhandledCount" class="UnhandledAlarmAction" method="getUnhanledCountAction">
   <result name="json"></result>
  </action>
  <action name="updateAlarm" class="AlarmAction" method="updateAlarmAction">
   <result name="success" type="redirect">/listAlarm.action</result>
  </action>
</package>

<package name="History" extends="abstract_struts" namespace="/">
  <action name="listPageHistory" class="HistoryPageAction" method="listHistoryAction">
   <result name="success">/monitor/monitor_history.jsp</result>
  </action>
  <action name="cabinetHistory" class="CabinetHistoryAction" method="listHistoryAction">
   <result name="success">/datahandler/history/history.jsp</result>
  </action>
</package>

<package name="DataPage" extends="abstract_struts" namespace="/">
<action name="listDeviceComAction" class="DeviceCompareAction" method="listAction">
   <result name="success">/datahandler/chart/datapage/device.jsp</result>
  </action>
  <action name="listDetectorComAction" class="DetectorCompareAction" method="listAction">
   <result name="success">/datahandler/chart/datapage/detector.jsp</result>
  </action>
</package>

<package name="Chart" extends="abstract_struts" namespace="/"> 
 	<action name="dayChart" class="DayChartAction" method="listHistoryAction">
 	<result name="json"></result>
 	</action> 
 	<action name="monthChart" class="MonthChartAction" method="listHistoryAction">
 	<result name="json"></result>
 	</action> 
 	<action name="moreChart" class="MoreChartAction" method="listHistoryAction">
 	<result name="json"></result>
 	</action> 
 </package> 


<package name="Trees" extends="abstract_struts" namespace="/"> 
	<action name="createTree" class="CreateTreeAction" method="createTreeAction"> 
		<result name="success">/system/device_manager.jsp</result>
 	</action> 
 	<action name="getTreeData" class="CreateTreeAction" method="getTreeData"> 
 	<result name="json"></result>
 	</action> 
 </package> 
<package name="device" extends="abstract_struts" namespace="/">
	<action name="showCabinetRecord" class="CabinetAction" method="showCabinetRecord"> 
 		<result name="json"></result>
 	</action>
 	<action name="showDeviceRecord" class="DeviceAction" method="showDeviceRecord"> 
 		<result name="json"></result>
 	</action>
 	<action name="showDetectorRecord" class="DetectorAction" method="showDetectorRecord"> 
 		<result name="json"></result>
 	</action>
 	
 	<action name="addLine" class="LineAction" method="addLineAction"> 
 		
 	</action>
 	<action name="addCabinet" class="CabinetAction" method="addCabinetAction"> 
 		
 	</action>
 	<action name="addDevice" class="DeviceAction" method="addDeviceAction"> 
 		
 	</action>
 	
 	<action name="updateCabinet" class="CabinetAction" method="updateCabinetAction"> 
 		
 	</action>
 	<action name="updateDevice" class="DeviceAction" method="updateDeviceAction"> 
 		
 	</action>
 	
	<action name="deleteDevice" class="DeviceAction" method="deleteDeviceAction"> 
 		
 	</action>
 	<action name="deleteLine" class="LineAction" method="deleteLineAction"> 
 		
 	</action>
 	<action name="deleteCabinet" class="CabinetAction" method="deleteCabinetAction"> 
 		
 	</action>
 	
 	<action name="updateAlarmType" class="AlarmTypeAction" method="updateAlarmTypeAction"> 
 	</action>
 	<action name="showAlarmType" class="AlarmTypeAction" method="showAlarmTypeAction"> 
 		<result name="success">/system/conf.jsp</result>
 	</action>
</package>
<package name="Socket" extends="abstract_struts" namespace="/"> 
	<action name="getTempDate" class="SocketAction" method="getTempDateAction"> 
 	</action>
</package>
<package name="Config" extends="abstract_struts" namespace="/"> 
	<action name="updateMonitorTime" class="MonitorTimeAction" method="updateMonitorTimeAction"> 
 	</action>
 	<action name="getMonitorTime" class="MonitorTimeAction" method="getMonitorTimeAction"> 
 	</action>
 	<action name="updateMonitorFunction" class="MonitorFunctionSwitchAction" method="updateMonitorFunctionAction"> 
 	</action>
 	<action name="updateMessageRevicer" class="MessageAction" method="updateMessageRevicerAction"> 
 	</action>
</package>
<!--include file="struts-jfreechart.xml"></include-->
</struts>   
